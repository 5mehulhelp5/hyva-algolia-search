<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" layout="1column"
      xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">
    <head>
        <remove src="Algolia_AlgoliaSearch::css/grid.css"/>
        <remove src="Algolia_AlgoliaSearch::css/autocomplete.css"/>
        <remove src="Algolia_AlgoliaSearch::css/algolia-reset.css"/>
        <remove src="Algolia_AlgoliaSearch::css/instantsearch.v3.css"/>
        <remove src="Algolia_AlgoliaSearch::css/recommend.css"/>
    </head>
    <body>
        <referenceBlock name="algolia.internals.configuration" remove="true"/>
        <!--        <referenceBlock name="algolia.beforecontent" remove="true"/>-->
        <referenceBlock name="header-search">
            <action method="setTemplate" ifconfig="algoliasearch_autocomplete/autocomplete/is_popup_enabled">
                <argument name="setTemplate" xsi:type="string">Blackbird_HyvaAlgoliaSearch::html/header/search-form.phtml</argument>
            </action>
        </referenceBlock>

        <referenceBlock name="before.body.end">
            <block name="algolia-search"
                   as="header-search"
                   template="Blackbird_HyvaAlgoliaSearch::algolia-include.phtml"
                   class="Algolia\AlgoliaSearch\Block\Algolia">
                <block name="algolia-insights"
                       as="insights-js"
                       template="Blackbird_HyvaAlgoliaSearch::algolia-insights-include.phtml"
                       class="Algolia\AlgoliaSearch\Block\Algolia">
                </block>
            </block>
            <block name="search.result.list.js.compare" template="Magento_Catalog::product/list/js/compare.phtml"/>
            <block name="search.result.list.js.wishlist" template="Magento_Catalog::product/list/js/wishlist.phtml"/>
            <container name="algolia-hooks-container">
                <block name="algolia-hook-afterAutocompleteStart"
                       template="Blackbird_HyvaAlgoliaSearch::hook/afterAutocompleteStart.phtml"
                       class="Algolia\AlgoliaSearch\Block\Algolia" />
            </container>
        </referenceBlock>

        <referenceBlock name="algolia.instant.wrapper">
            <action method="setTemplate">
                <argument name="setTemplate" xsi:type="string">
                    Blackbird_HyvaAlgoliaSearch::instant/wrapper.phtml
                </argument>
            </action>
        </referenceBlock>
        <referenceBlock name="algolia.instant.hit">
            <action method="setTemplate">
                <argument name="setTemplate" xsi:type="string">
                    Blackbird_HyvaAlgoliaSearch::instant/hit.phtml
                </argument>
            </action>
        </referenceBlock>
        <referenceBlock name="algolia.instant.facet">
            <action method="setTemplate">
                <argument name="setTemplate" xsi:type="string">
                    Blackbird_HyvaAlgoliaSearch::instant/facet.phtml
                </argument>
            </action>
        </referenceBlock>
        <referenceBlock name="algolia.instant.stats">
            <action method="setTemplate">
                <argument name="setTemplate" xsi:type="string">
                    Blackbird_HyvaAlgoliaSearch::instant/stats.phtml
                </argument>
            </action>
        </referenceBlock>
        <referenceBlock name="algolia.instant.refinements">
            <action method="setTemplate">
                <argument name="setTemplate" xsi:type="string">
                    Blackbird_HyvaAlgoliaSearch::instant/refinements.phtml
                </argument>
            </action>
        </referenceBlock>
    </body>
</page>
